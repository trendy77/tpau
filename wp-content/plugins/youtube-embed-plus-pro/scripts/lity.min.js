/*
 Lity - v1.6.6 - 2016-04-22
 http://sorgalla.com/lity/
 Copyright (c) 2016 Jan Sorgalla; Licensed MIT */
(function(e,a){"function"===typeof define&&define.amd?define(["jquery"],function(q){return a(e,q)}):"object"===typeof module&&"object"===typeof module.exports?module.exports=a(e,require("jquery")):e.lity=a(e,e.jQuery||e.Zepto)})("undefined"!==typeof window?window:this,function(e,a){function q(){C[0<w?"addClass":"removeClass"]("lity-active")}function y(c){var b=a.Deferred();n?(c.one(n,b.resolve),setTimeout(b.resolve,500)):b.resolve();return b.promise()}function r(c,b,d){if(1===arguments.length)return a.extend({},
c);if("string"===typeof b){if("undefined"===typeof d)return"undefined"===typeof c[b]?null:c[b];c[b]=d}else a.extend(c,b);return this}function p(a){a=decodeURI(a).split("&");for(var b={},d,c=0,e=a.length;c<e;c++)a[c]&&(d=a[c].split("="),b[d[0]]=d[1]);return b}function l(c,b){return c+(-1<c.indexOf("?")?"&":"?")+a.param(b)}function h(c){function b(a){27===a.keyCode&&t()}function d(){var a=u.documentElement.clientHeight?u.documentElement.clientHeight:Math.round(v.height());k.css("max-height",Math.floor(a)+
"px").trigger("lity:resize",[f])}function e(b,c){f&&(k=a(c),v.on("resize",d),d(),f.find(".lity-loader").each(function(){var b=a(this);y(b).always(function(){b.remove()})}),f.removeClass("lity-loading").find(".lity-content").empty().append(k),k.removeClass("lity-hide").trigger("lity:ready",[f,b]),x.resolve())}function h(c,d,g,h){x=a.Deferred();w++;q();f=a(g.template).addClass("lity-loading").appendTo("body");if(g.esc)v.on("keyup",b);setTimeout(function(){f.addClass("lity-opened lity-"+c).on("click",
"[data-lity-close]",function(b){a(b.target).is("[data-lity-close]")&&t()}).trigger("lity:open",[f,h]);a.when(d).always(a.proxy(e,null,h))},0)}function l(b,c,d){var e,f,m=a.extend({},A,p);c=a.extend({},B,n,c);if(c.handler&&m[c.handler])f=m[c.handler](b,g),e=c.handler;else{var z={};a.each(["inline","iframe"],function(b,a){m[a]&&(z[a]=m[a]);delete m[a]});var k=function(a,c){if(!c)return!0;if(f=c(b,g))return e=a,!1};a.each(m,k);e||a.each(z,k)}f&&a.when(t()).done(a.proxy(h,null,e,f,c,d));return!!f}function t(){if(f){var c=
a.Deferred();x.done(function(){w--;q();v.off("resize",d).off("keyup",b);k.trigger("lity:close",[f]);f.removeClass("lity-opened").addClass("lity-closed");var a=f,e=k;k=f=null;y(e.add(a)).always(function(){e.trigger("lity:remove",[a]);a.remove();c.resolve()})});return c.promise()}}function g(b){if(!b.preventDefault)return g.open(b);var c=a(this),d=c.data("lity-target")||c.attr("href")||c.attr("src");if(d){var e=c.data("lity-options")||c.data("lity");l(d,e,c)&&(c.blur(),b.preventDefault())}}var n={},
p={},f,k,x=a.Deferred().resolve();g.handlers=a.proxy(r,g,p);g.options=a.proxy(r,g,n);g.open=function(a,b,c){l(a,b,c);return g};g.close=function(){t();return g};return g.options(c)}var u=e.document,v=a(e),C=a("html"),w=0,D=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,E=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,F=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,G=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,A={image:function(c){if(!D.test(c))return!1;
var b=a('<img src="'+c+'">'),d=a.Deferred(),e=function(){d.reject(a('<span class="lity-error"/>').append("Failed loading image"))};b.on("load",function(){if(0===this.naturalWidth)return e();d.resolve(b)}).on("error",e);return d.promise()},inline:function(c){var b;try{b=a(c)}catch(H){return!1}if(!b.length)return!1;var d=a('<span style="display:none !important" class="lity-inline-placeholder"/>');return b.after(d).on("lity:ready",function(a,c){c.one("lity:remove",function(){d.before(b.addClass("lity-hide")).remove()})})},
iframe:function(c){var b,d=c;(b=E.exec(c))&&(d=l("https://www.youtube"+(b[2]||"")+".com/embed/"+b[4],a.extend({autoplay:1},p(b[5]||""))));(b=F.exec(c))&&(d=l("https://player.vimeo.com/video/"+b[3],a.extend({autoplay:1},p(b[4]||""))));(b=G.exec(c))&&(d=l("https://www.google."+b[3]+"/maps?"+b[6],{output:0<b[6].indexOf("layer=c")?"svembed":"embed"}));return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+d+'"></iframe></div>'}},B={esc:!0,handler:null,template:'<div class="lity" tabindex="-1"><div class="lity-wrap" data-lity-close><div class="lity-loader">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" title="Close (Esc)" data-lity-close>\u00d7</button></div></div></div>'},
n=function(){var a=u.createElement("div"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},d;for(d in b)if(void 0!==a.style[d])return b[d];return!1}();h.version="1.6.6";h.handlers=a.proxy(r,h,A);h.options=a.proxy(r,h,B);a(u).on("click","[data-lity]",h());return h});