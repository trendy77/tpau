<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="lib/jquery.js"></script>
    <script type="text/javascript" src="lib/jquery.emoji.js"></script>
    <title>Can we call custom URL via node cilent?</title>
  </head>
  <body>
    <div class="container">
      <header>
        <p>
          <span class="badge open">open</span>
          <span class="url">kadamwhite/wordpress-rest-api#140</span>
        </p>
        <h1>Can we call custom URL via node cilent?</h1>
      </header>
      <div class="comments">
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/andreipot">andreipot</a>
            <time>1/29/2016</time>
          </div>
          <div class="body">
            <p>Hello @kadamwhite 
I&#39;m using <strong>memberpress</strong>(<a href="https://www.memberpress.com/">https://www.memberpress.com/</a>) which provides REST api as well. I&#39;ve installed WP API v2 and on node side i&#39;m using your client.
However, member press API follows this format
wp-json/mp/v1/members/:id
whereas wordpress-rest-client follows this  format
wp-json/wp/v2/<em>*</em>
At the moment, there is no way to point memberpress apis from your client, I can use HTTP request then there is authentication. 
is it possible for me to call memberpress rest api using this node client?</p>
<p>I think if we can manage to call custom URLs (not via post /page/ taxonomies ) then this is will be really awesome!</p>
<p>thanks,
Andrei</p>

          </div>
        </div>

        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kadamwhite">
              kadamwhite
            </a>
            <time>1/30/2016</time>
          </div>
          <div class="body"><p>@andreipot As discussed in #138, there&#39;s currently not good support for this. The interface I have been hoping to implement would look like this:</p>
<pre><code class="lang-js">var wp = require( &#39;wordpress-rest-api&#39; ).site( &#39;http://your-site.com/wp-json&#39; );

wp.members = wp.endpoint({
  collection: &#39;members&#39;,
  namespace: &#39;mp&#39;,
  version: &#39;v1&#39;
});

wp.members().id( 7 )._renderURI(); // http://your-site.com/wp-json/mp/v1/members/7
</code></pre>
<p>I&#39;d be curious for your thoughts about this interface.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kadamwhite">
              kadamwhite
            </a>
            <time>1/30/2016</time>
          </div>
          <div class="body"><p>After discussion with @rmccue the string <code>mp/v1</code> taken as a whole is the &quot;namespace&quot;; I have opened issue #141 to track removing the now-obsolete &quot;version&quot; method. Additionally, &quot;base&quot; is a more generic property name for defining a collection endpoint, in the event that a REST endpoint is created for a collection-less resource.</p>
<p>In light of these findings then the <code>.endpoint</code> method would be imagined to work as follows:</p>
<pre><code class="lang-js">wp.members = wp.endpoint({
  base: &#39;members&#39;,
  namespace: &#39;mp/v1&#39;
});
</code></pre>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/andreipot">
              andreipot
            </a>
            <time>1/30/2016</time>
          </div>
          <div class="body"><p>@kadamwhite  Awesome, I will test it and let you know.
I think what you did is right.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/andreipot">
              andreipot
            </a>
            <time>1/30/2016</time>
          </div>
          <div class="body"><p>@kadamwhite  for custom query request, rather than packing them as functions like wp.posts(), we&#39;d rather have it accept custom URL led by namespace and base.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kadamwhite">
              kadamwhite
            </a>
            <time>1/31/2016</time>
          </div>
          <div class="body"><p>@andreipot can you elaborate or provide an example to show what you mean?</p>
</div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      $(document).ready(function(){
        $('.comment').each(function(i, d){
          $(d).emoji()
        })
      })
    </script>

  </body>
</html>
