<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="lib/jquery.js"></script>
    <script type="text/javascript" src="lib/jquery.emoji.js"></script>
    <title>Get taxonomy by slug</title>
  </head>
  <body>
    <div class="container">
      <header>
        <p>
          <span class="badge open">open</span>
          <span class="url">kadamwhite/wordpress-rest-api#95</span>
        </p>
        <h1>Get taxonomy by slug</h1>
      </header>
      <div class="comments">
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/PanMan">PanMan</a>
            <time>12/11/2014</time>
          </div>
          <div class="body">
            <p>In the docs (frontpage) it says:</p>
<pre><code>wp.taxonomies().taxonomy( &#39;taxonomy_name&#39; ).term( termIdentifier ): get the term with slug or ID termIdentifier from the taxonomy taxonomy_name
</code></pre><p>This works with the ID, but not with the slug :(. Is this something that changed?</p>
<p>HOST/wp-json/taxonomies/post_tag/terms/42 works
HOST/wp-json/taxonomies/post_tag/terms/sociaal-ondernemerschap doesn&#39;t</p>

          </div>
        </div>

        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kadamwhite">
              kadamwhite
            </a>
            <time>12/11/2014</time>
          </div>
          <div class="body"><p>This may just have been a mistake on my part, I can&#39;t find a prior version of the API that did support thisâ€”I&#39;ll look into it today</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kadamwhite">
              kadamwhite
            </a>
            <time>12/11/2014</time>
          </div>
          <div class="body"><p>This is definitely not supported at present, thank you for the catch. I believe I will add a <code>.slug()</code> method to the Taxonomies query builder to allow terms to be provided by slug; however, this depends on WP-API/WP-API#347, because the version of the API in the plugin directory does not support filtering taxonomy collection endpoints. I am not sure how to proceed in releasing this feature given that it is not in the officially-released version of the plugin.</p>
<p>What version are you using? You can try this query; in the latest &quot;master&quot; version of the plugin, it will return an array with a single element:</p>
<pre><code>HOST/wp-json/taxonomies/post_tag/terms?filter[slug]=sociaal-ondernemerschap
</code></pre></div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kadamwhite">
              kadamwhite
            </a>
            <time>12/11/2014</time>
          </div>
          <div class="body"><p>c.f. update: the actual PR that landed this change was WP-API/WP-API#401, not 347</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/PanMan">
              PanMan
            </a>
            <time>12/11/2014</time>
          </div>
          <div class="body"><p>The filter by slug is what I had in my code (and which I think worked last week?), but now it returns all items, and doesn&#39;t filter.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kadamwhite">
              kadamwhite
            </a>
            <time>12/11/2014</time>
          </div>
          <div class="body"><p>What version of the WP-API plugin are you using?</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/PanMan">
              PanMan
            </a>
            <time>12/11/2014</time>
          </div>
          <div class="body"><p>The latest stable from wordpress.org, 1.1.1</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kadamwhite">
              kadamwhite
            </a>
            <time>12/11/2014</time>
          </div>
          <div class="body"><p>That makes sense. Filtering for taxonomy collections is not included in 1.1.1, so there won&#39;t be any way to get at a specific term until a new plugin version is released; I will add the <code>.slug</code> convenience method at that point.</p>
<p>The best I can offer is to filter down the returned collection:</p>
<pre><code class="lang-js">wp.tags().then(function(tags) {
  return _.findWhere(tags, {
    slug: &#39;term-slug&#39;
  });
});
</code></pre>
<p>It is not super efficient to request all terms each time, so you may want to request all of them and cache that collection locally in a variable or an LRU cache to speed up the retrieval.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/PanMan">
              PanMan
            </a>
            <time>12/11/2014</time>
          </div>
          <div class="body"><p>I think I&#39;ll update the WP-API on the server. Thnx for your input! </p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kadamwhite">
              kadamwhite
            </a>
            <time>1/21/2016</time>
          </div>
          <div class="body"><p>In the intervening year, this has been broken again by the v2 beta upgrades: WP-API/WP-API#924 identifies that <code>filter</code> is not currently supported on the <code>/categories</code> or <code>/tags</code> endpoints.</p>
<p>WP-API/WP-API#2065 has been opened to identify whether this will ever be reinstated; in the meantime, #126 will add a demonstration of using the <code>?search</code> parameter to <em>slightly</em> more efficiently retrieve a specific term by slug (basically the same &quot;get them all and search for the one you want in the response&quot; approach detailed above, but with less overhead due to the narrowing effect of <code>?search=the-slug</code>).</p>
</div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      $(document).ready(function(){
        $('.comment').each(function(i, d){
          $(d).emoji()
        })
      })
    </script>

  </body>
</html>
